<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Booking</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/main.css') }}" />
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/booking.css') }}" />
        <meta charset="utf-8" />
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	</head>
	<body>
		<div id="wrap">
			<div id="header">
				{% if session['username'] %}
				<span> Hello {{session['username']}} </span>
				<button type="button" value="Logout" onclick="logout()">Logout</button>
				{% else %}
				<form id="login" action="/login" method="post" role="form">
					Username: <input id="username" name="username" type="text" placeholder="Username" /><br />
					Password: <input id="pwd" name="pwd" type="password" placeholder="Password" /><br />
					<input type="submit" value="Login" /><br />				
				</form>
				{% endif %}
			</div>
			<div id="mainNav">
				<a class="mainNavLink" href="index">Main Page</a>
				<a class="mainNavLink" href="gallery">Gallery</a>
				<a class="mainNavLink" href="attractions">Local Activities</a>
				<a class="mainNavLink" href="reviews">Reviews</a>
				<a class="mainNavLink" href="booking">Book Now</a>
				<a class="mainNavLink" href="contactus">Contact Us</a>
			</div>
			<div id="main">
                <div id="contentWrap">
					<h2 id="intro">Booking</h2>
					{% if not(session['username'] and bookingList) %}
                    <p>Please fill in all fields of the form:</p>
                    
                    <form class="bookingEntry" action="/saveBooking" method="POST">
                        First Name:<br />
                        <input type="text" name="firstname" placeholder="First Name" /><br />
                        Last Name:<br />
                        <input type="text" name="lastname" placeholder="Last Name" /><br />
                        Email:<br />
                        <input type="email" name="email" placeholder="Email" /><br />
                        Telephone No:<br />
                        <input type="tel" name="tel" placeholder="Telephone No." /><br />
                        Arrival Date<br />
                        <input type="date" name="arrival" /><br />
                        Departure Date<br />
                        <input type="date" name="departure" /><br />
			            <input type="submit" value="Submit" /><br />
                    </form>
					{% else %}
					<table id="bookings" border=1>
						<tr>
							<td>ID</td><td>Username</td><td>First Name</td><td>Last Name</td><td>Email</td><td>Telephone Number</td><td>Arrival Date</td><td>Departure Date</td><td>Submission Date</td><td>Status</td><td>Action</td>
						</tr>
							{% if isList %}
								{% for val in bookingList %}
								<tr id="booking_{{val['id']}}">
									{% for key, dictValue in val.items() %}
									<td>{{dictValue}}</td>
									{% endfor %}
									<td><button type="button" value="Modify" onclick="modifyBooking({{val['id']}})">Modify</button><button type="button" value="Delete" onclick="deleteBooking({{val['id']}})">Delete</button></td>
								</tr>
								{% endfor %}
							{% else %}
								<tr>
								{% for key, value in bookingList.items() %}
								<td>{{value}}</td>
								{% endfor %}
								</tr>
							{% endif %}
					</table>
					{% endif %}
                </div>
			</div>
			<div id="footer">
				<p id="footnote">Created by Adrian Wesolowski. Last modified on 09/12/2016.</p>
			</div>
		</div>
		<script src="{{ url_for('static', filename='script.js') }}"></script>
	</body>
</html>
